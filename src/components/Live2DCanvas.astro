---
import {
    btn_success,
    btn_warning,
    btn_danger,
    btn_Info
} from '../assets/classconst';
import Subtitles from './Subtitles.astro';
import DraggableDialog from './dialog/DraggableDialog.astro';
---

<!-- Toda la estructura HTML va aquí -->
<div id="app-container" class="flex justify-center relative h-full border-2 border-gray-600 rounded-lg shadow-lg m-2">
    <canvas id="canvas" class="h-full block aspect-auto"></canvas>
    <DraggableDialog title="Controles">
        <div>
            <div class="flex space-x-2">
                <button id="btn-expression" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200 disabled:bg-gray-500 disabled:cursor-not-allowed">Expresión</button>
                <button id="btn-motion" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200 disabled:bg-gray-500 disabled:cursor-not-allowed">Movimiento</button>
            </div>
        </div>
        <p id="loading-text" class="text-yellow-400 font-bold hidden">Cargando modelo...</p>
    </DraggableDialog>
    <div class="absolute top-0 right-0 left-0 bottom-0 pointer-events-none">
      <Subtitles  />
    </div>
    <div class={btn_Info + " absolute top-4 right-4"} id="ws_status">
      Connect?
    </div>
</div>


<!-- 
    ====== ESTA LÍNEA ES LA SOLUCIÓN DEFINITIVA ======
    Asegúrate de que la ruta 'src' sea correcta.
    Apunta desde 'components' hacia 'scripts'.
-->
<script>
import '@components/live2d/main.ts'
</script>
